import _Symbol from"babel-runtime/core-js/symbol";import _extends from"babel-runtime/helpers/extends";import _newArrowCheck from"babel-runtime/helpers/newArrowCheck";import{curry}from"flow-static-land/lib/Fun";import{isLastIndex,remove}from"@jumpn/utils-array";import _objectWithoutProperties from"babel-runtime/helpers/objectWithoutProperties";import _toConsumableArray from"babel-runtime/helpers/toConsumableArray";var _this$1=void 0,get=function(e,r){return _newArrowCheck(this,_this$1),r[e]}.bind(void 0),get$1=curry(get),_this$2=void 0,hasKey=function(e,r){return _newArrowCheck(this,_this$2),Object.prototype.hasOwnProperty.call(r,e)}.bind(void 0),hasKey$1=curry(hasKey),_this$3=void 0,objectRemove=function(e,r){r[e];var t=_objectWithoutProperties(r,[e]);return _newArrowCheck(this,_this$3),t}.bind(void 0),remove$1=function(e,r){return _newArrowCheck(this,_this$3),Array.isArray(r)?remove(e,1,r):objectRemove(e,r)}.bind(void 0),remove$2=curry(remove$1),_this$4=void 0,shallowCopy=function(e){return _newArrowCheck(this,_this$4),Array.isArray(e)?[].concat(_toConsumableArray(e)):_extends({},e)}.bind(void 0),_this=void 0,createReduceContext=function(e){_newArrowCheck(this,_this);var r=shallowCopy(e);return{origin:r,current:r,previous:void 0}}.bind(void 0),set=function(e,r,t){return _newArrowCheck(this,_this),t[e]=r,get$1(e,t)}.bind(void 0),updateSet=function(e,r,t,o){return _newArrowCheck(this,_this),_extends({},o,{current:set(e[r],t,o.current),previous:o.current})}.bind(void 0),updateRemove=function(e,r,t){_newArrowCheck(this,_this);var o=remove$2(e[r],t.current);return 0===r?_extends({},t,{current:o,origin:o}):_extends({},t,{previous:set(e[r-1],o,t.previous)})}.bind(void 0),removeAction=_Symbol("composite.updateIn.removeAction"),update=function(e,r,t,o){return _newArrowCheck(this,_this),t===removeAction?updateRemove(e,r,o):updateSet(e,r,t,o)}.bind(void 0),createSupporting=function(e){return _newArrowCheck(this,_this),"number"==typeof e?[]:{}}.bind(void 0),copyOrCreate=function(e,r,t){return _newArrowCheck(this,_this),hasKey$1(e,t)?shallowCopy(get$1(e,t)):createSupporting(r)}.bind(void 0),getNext=function(e,r,t,o){return _newArrowCheck(this,_this),isLastIndex(e,t)?r(get$1(e[t],o)):copyOrCreate(e[t],e[t+1],o)}.bind(void 0),getReducer=function(e,r){return _newArrowCheck(this,_this),function(t,o,i){return _newArrowCheck(this,_this),update(e,i,getNext(e,r,i,t.current),t)}.bind(this)}.bind(void 0),updateIn=function(e,r,t){return _newArrowCheck(this,_this),0===e.length?t:e.reduce(getReducer(e,r),createReduceContext(t)).origin}.bind(void 0),updateInCurried=curry(updateIn);updateInCurried.remove=removeAction;export default updateInCurried;
//# sourceMappingURL=updateIn.js.map
